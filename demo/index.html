<!DOCTYPE html>
<html>
<head>
  <title>Content Edit Example</title>
  <link rel="stylesheet" href="../src/defaults.css"/>
  <link rel="stylesheet" href="../src/fancy.css"/>
  <link rel="stylesheet" href="layout.css"/>
  <style type="text/css">
    input[type="text"]{
      min-width: 20em;
      padding: 2px 5px;
    }
  </style>
</head>
<body>

<h1>Content Edit Demo</h1>

<p data-editable id="editable-paragraph">This paragraph is editable.</p>

<p>This paragraph is not editable.</p>

<p>In this long paragraph, <a href="#" data-editable="text" data-editable-template="hyperlink">only this hyperlink is editable</a>.</p>

<p><small>
  <strong>Did you know it?</strong>
  You can also <a href="#editable-paragraph" data-editable>click to edit the first paragraph</a>.
</small></p>

<fieldset data-editable-context data-editable-template="multi">
  <legend>Multiple Fields Edit</legend>

  <h2 data-editable="title">Title</h2>

  <p data-editable="content">One of the major perks to owning a cat over, say, a dog or a horse, is that
    all cats instinctively drop their waste into neat little litter boxes, eliminating the
    need for frequent "walkies" and the palpable awkwardness that comes with the public use
    of pooper-scoopers and plastic baggies. Cats instinctively seek to bury their droppings, so it works out for everybody.
  </p>
</fieldset>

<div class="container">
  <!-- Default Editable Template -->
  <form action="#" data-editable-template>
    <h2>Edit this content</h2>

    <textarea name="content" cols="30" rows="10" data-editable-content required></textarea>

    <blockquote class="original-content"></blockquote>

    <div class="form-actions">
      <input class="btn btn-main" type="submit" value="Save" />
      <input class="btn" type="button" value="Cancel" data-toggle="cancel" />
    </div>
  </form>

  <!-- Hyperlink Editable Template -->
  <form action="#" data-editable-template="hyperlink">
    <h2>Edit this hyperlink</h2>
    <input type="text" name="content" data-editable-content="text" required />

    <blockquote class="original-content"></blockquote>

    <div class="form-actions">
      <input class="btn btn-main" type="submit" value="Save" />
      <input class="btn" type="button" value="Cancel" data-toggle="cancel" />
    </div>
  </form>

  <!-- Multifields Template -->
  <form action="#" data-editable-template="multi">
    <h2>Multifields Edit</h2>

    <div>
      <input type="text" name="content[title]" data-editable-content="title" required />
    </div>

    <div>
      <textarea name="content[content]" cols="30" rows="10" data-editable-content="content" required></textarea>
    </div>

    <div class="form-actions">
      <input class="btn btn-main" type="submit" value="Save" />
      <input class="btn" type="button" value="Cancel" data-toggle="cancel" />
    </div>
  </form>

  <!-- Revision History Module for Hyperlink Template -->
  <div class="content-history hidden" data-editable-history="hyperlink">
    <h2>Hyperlink Revisions History</h2>

    <ul class="editable-history-list">
      <li class="editable-history-item">
        <p data-editable-history-revision>Smiles are contagious, so be a carrier.</p>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#edit" data-editable-history-action="copy">Edit this version</a></li>
        </ul>
      </li>
      <li class="editable-history-item">
        <p data-editable-history-revision>Keep calm: The first five days after the weekend are the hardest! </p>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#copy" data-editable-history-action="copy">Copy this version</a></li>
        </ul>
      </li>
      <li class="editable-history-item">
        <p data-editable-history-revision>The hardest thing ever is to control your laughter at serious times.</p>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#copy" data-editable-history-action="copy">Copy this version</a></li>
        </ul>
      </li>
    </ul>
  </div>
</div>

<div class="fancy-location">
  <div class="content-history hidden" data-editable-history>
    <h2>Revisions History</h2>

    <ul class="editable-history-list">
      <li class="editable-history-item">
        <div data-editable-history-revision>
          <p>The Queen officially opens the BBC's rebuilt Broadcasting House, creating a memorable TV moment by appearing behind the newsreaders.</p>
        </div>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#edit" data-editable-history-action="copy">Edit this version</a></li>
        </ul>
      </li>
      <li class="editable-history-item">
        <div data-editable-history-revision>
          <p>Paul Martin and the team are at Stroud's Subscription Rooms.</p>

          <p>Paul is joined in the hunt for exciting antiques and collectibles by experts James Lewis and Kate Bliss. Kate becomes intrigued by an astrological teapot, but the star of the show is another item for dining in style, a regency tea caddy found by James.</p>

          <p>Paul visits the home of Edward Jenner, to find out how this man changed the face of medicine.</p>
        </div>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#copy" data-editable-history-action="copy">Copy this version</a></li>
        </ul>
      </li>
    </ul>
  </div>
</div>

<div class="fancy-location">
  <div class="content-history hidden" data-editable-history="multi">
    <h2>Multiple Fields History</h2>

    <ul class="editable-history-list">
      <li class="editable-history-item">
        <h2 data-editable-history-revision="title">Old Title</h2>
        <p data-editable-history-revision="content">Contrary to popular assumptions though, this behavior doesn't come from Snowball's obsessive compulsive cleanliness, but rather an evolutionary holdover from before felines were domesticated and had more dangerous predators than the vacuum cleaner to worry about.</p>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#edit" data-editable-history-action="copy">Edit this version</a></li>
        </ul>
      </li>
      <li class="editable-history-item">
        <h2 data-editable-history-revision="title">Even Older Title</h2>
        <p data-editable-history-revision="content">Burying the poop prevents detection by their enemies, but there's another layer to it, which is that they do it to avoid challenging the dominant cat of the group. It kind of makes sense, if burying the poop is a sign that they fear another, larger animal, then leaving it uncovered would be a pretty aggressive act. "No one here is bad enough to fuck with me. Enjoy my shit."</p>

        <ul class="actions">
          <li><a href="#revert" data-editable-history-action="revert">Revert to this version</a></li>
          <li><a href="#edit" data-editable-history-action="copy">Edit this version</a></li>
        </ul>
      </li>
    </ul>
  </div>
</div>

<script>
  (function(){
    var jQueries = ["../src/vendor/jquery/jquery.min.js", "http://code.jquery.com/jquery-1.8.3.min.js"];
    var scripts = ["../dist/jquery.content-edit.js", "../dist/jquery.content-edit-history.js"];

    function success(){
      scripts.forEach(function(src){
        var script = document.createElement("script");
        script.src = src;
        document.body.appendChild(script);
      });
    }

    (function poll(){
      if (!jQueries.length) return;

      var script = document.createElement("script");
      script.src = jQueries.shift();
      script.addEventListener("load", success);
      script.addEventListener("error", poll);

      document.body.appendChild(script);
    })();
  })()
</script>
</body>
</html>
